(function(t){function e(e){for(var r,o,s=e[0],a=e[1],l=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);c&&c(e);while(p.length)p.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],r=!0,s=1;s<n.length;s++){var a=n[s];0!==i[a]&&(r=!1)}r&&(u.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},u=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/multi/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=a;u.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Index")],1)},u=[],o=n("d4ec"),s=n("262e"),a=n("2caf"),l=n("9ab4"),c=n("60a3"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{float:"right",margin:"0 0 0 -800px",width:"100%"}},[n("div",{staticStyle:{margin:"50px 0 0 800px",background:"#00000000"}},[n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.mintTextValue))]],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[n("el-input",{attrs:{placeholder:"to"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[n("el-input",{attrs:{placeholder:"value"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText7))],n("el-input",{attrs:{placeholder:"签名信息"},model:{value:t.multiTextInput9,callback:function(e){t.multiTextInput9=e},expression:"multiTextInput9"}})],2),n("div",[n("el-button",{on:{click:t.mintFunction}},[t._v(t._s(t.claim))])],1),n("div",{staticStyle:{width:"400px",margin:"20px 0 0 0",background:"#00000000"}},[[t._v(t._s(t.multiText8))],n("el-input",{attrs:{placeholder:""},model:{value:t.multiTextInput10,callback:function(e){t.multiTextInput10=e},expression:"multiTextInput10"}})],2)])]),n("div",{staticStyle:{float:"left",margin:"50px 0 0 100px",background:"#00000000"}},[n("div",[[t._v(t._s(t.multiAddressList))]],2),n("div",[n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText1))],n("el-input",{attrs:{placeholder:"地址1"},model:{value:t.multiTextInput1,callback:function(e){t.multiTextInput1=e},expression:"multiTextInput1"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText2))],n("el-input",{attrs:{placeholder:"地址2"},model:{value:t.multiTextInput2,callback:function(e){t.multiTextInput2=e},expression:"multiTextInput2"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText3))],n("el-input",{attrs:{placeholder:"地址3"},model:{value:t.multiTextInput3,callback:function(e){t.multiTextInput3=e},expression:"multiTextInput3"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText4))],n("el-input",{attrs:{placeholder:"地址4"},model:{value:t.multiTextInput4,callback:function(e){t.multiTextInput4=e},expression:"multiTextInput4"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText5))],n("el-input",{attrs:{placeholder:"地址5"},model:{value:t.multiTextInput5,callback:function(e){t.multiTextInput5=e},expression:"multiTextInput5"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText6))],n("el-input",{attrs:{placeholder:"阈值"},model:{value:t.multiTextInput6,callback:function(e){t.multiTextInput6=e},expression:"multiTextInput6"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText7))],n("el-input",{attrs:{placeholder:"签名信息"},model:{value:t.multiTextInput7,callback:function(e){t.multiTextInput7=e},expression:"multiTextInput7"}})],2),n("div",[n("el-button",{on:{click:t.editFunction}},[t._v(t._s(t.editAddress))])],1),n("div",{staticStyle:{width:"400px",margin:"20px 0 0 0",background:"#00000000"}},[[t._v(t._s(t.multiText8))],n("el-input",{attrs:{placeholder:""},model:{value:t.multiTextInput8,callback:function(e){t.multiTextInput8=e},expression:"multiTextInput8"}})],2)])])])},p=[],x=n("1da1"),m=(n("96cf"),n("d3b7"),n("ddb0"),n("25eb"),n("a9e3"),n("8206"),"41528d4f67c7055152052058cd9646c8e2cbfe729e"),b="41384da1b1e9d08842d523872b4d42f62c0d97c74f",w={data:function(){return{multiAddressList:"多签地址成员列表：",multiText1:"多签地址1（权重1）",multiText2:"多签地址2（权重1）",multiText3:"多签地址3（权重1）",multiText4:"多签地址4（权重1）",multiText5:"多签地址5（权重1）",multiText6:"阈值",multiText7:"多签数据(第一个签名不用输入)",multiText8:"签名后的签名信息（通过通讯工具将签名后的信息发送给下一个需要签名的人）:",multiTextInput1:"",multiTextInput2:"",multiTextInput3:"",multiTextInput4:"",multiTextInput5:"",multiTextInput6:"",multiTextInput7:"",multiTextInput8:"",multiTextInput9:"",multiTextInput10:"",claim:"mint",mintTextValue:"mint功能:",input1:"",input2:"",editAddress:"修改权限"}},mounted:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.tronWeb&&window.tronWeb.defaultAddress.base58&&console.log("init tronweb success"),e.next=3,window.tronWeb.trx.getAccount(b);case 3:n=e.sent,console.log(n),void 0!==n.owner_permission.keys[0]&&(t.multiTextInput1=window.tronWeb.address.fromHex(n.owner_permission.keys[0].address)),void 0!==n.owner_permission.keys[1]&&(t.multiTextInput2=window.tronWeb.address.fromHex(n.owner_permission.keys[1].address)),void 0!==n.owner_permission.keys[2]&&(t.multiTextInput3=window.tronWeb.address.fromHex(n.owner_permission.keys[2].address)),void 0!==n.owner_permission.keys[3]&&(t.multiTextInput4=window.tronWeb.address.fromHex(n.owner_permission.keys[3].address)),void 0!==n.owner_permission.keys[4]&&(t.multiTextInput5=window.tronWeb.address.fromHex(n.owner_permission.keys[4].address)),t.multiTextInput6=n.owner_permission.threshold;case 11:case"end":return e.stop()}}),e)})))()},methods:{mintFunction:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var n,r,i,u,o,s,a,l,c,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.tronWeb||window.tronWeb.defaultAddress.base58){e.next=3;break}return alert("未连接钱包"),e.abrupt("return");case 3:if(t.multiTextInput10="",void 0!==t.multiTextInput9&&""!==t.multiTextInput9){e.next=28;break}return n="mint(address,uint256)",r=[{type:"address",value:t.input1},{type:"uint",value:t.input2}],i={},e.next=10,window.tronWeb.transactionBuilder.triggerSmartContract(m,n,i,r,window.tronWeb.defaultAddress.base58);case 10:return u=e.sent,console.log(u.transaction),e.next=14,window.tronWeb.trx.multiSign(u,0);case 14:return o=e.sent,e.next=17,window.tronWeb.trx.getSignWeight(o,0);case 17:if(s=e.sent,!(s.current_weight>=accountdata.owner_permission.threshold)){e.next=25;break}return e.next=21,window.tronWeb.trx.broadcast(o);case 21:a=e.sent,console.log(a),e.next=26;break;case 25:console.log(JSON.stringify(o));case 26:e.next=42;break;case 28:return e.next=30,window.tronWeb.trx.multiSign(transaction,0);case 30:return l=e.sent,e.next=33,window.tronWeb.trx.getSignWeight(l,0);case 33:if(c=e.sent,!(c.current_weight>=accountdata.owner_permission.threshold)){e.next=41;break}return e.next=37,window.tronWeb.trx.broadcast(l);case 37:d=e.sent,console.log(d),e.next=42;break;case 41:t.multiTextInput10=JSON.stringify(l);case 42:case"end":return e.stop()}}),e)})))()},editFunction:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var n,r,i,u,o,s,a,l,c,d,p,m,w,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.multiTextInput8="",console.log("multiTextInput8: "+t.multiTextInput8),console.log("default address: "+window.tronWeb.defaultAddress.base58),window.tronWeb||window.tronWeb.defaultAddress.base58){e.next=6;break}return alert("未连接钱包"),e.abrupt("return");case 6:return e.next=8,window.tronWeb.trx.getAccount(b);case 8:if(n=e.sent,void 0!==t.multiTextInput7&&""!==t.multiTextInput7){e.next=32;break}if(void 0!==t.multiTextInput6&&""!==t.multiTextInput6){e.next=13;break}return alert("请输入参数"),e.abrupt("return");case 13:if(void 0!==t.multiTextInput1&&""!==t.multiTextInput1){e.next=16;break}return alert("请输入参数"),e.abrupt("return");case 16:r=[],i=[],u=t.multiTextInput6,o={owner_address:b,owner:{type:0,id:0,permission_name:"owner",threshold:Number.parseInt(u),keys:r},actives:[{type:2,id:2,permission_name:"active0",threshold:Number.parseInt(u),operations:"7fff1fc0037e0000000000000000000000000000000000000000000000000000",keys:i}]},void 0!==t.multiTextInput1&&""!==t.multiTextInput1&&(s={address:window.tronWeb.address.toHex(t.multiTextInput1),weight:1},r.push(s),i.push(s)),void 0!==t.multiTextInput2&&""!==t.multiTextInput2&&(a={address:window.tronWeb.address.toHex(t.multiTextInput2),weight:1},r.push(a),i.push(a)),void 0!==t.multiTextInput3&&""!==t.multiTextInput3&&(l={address:window.tronWeb.address.toHex(t.multiTextInput3),weight:1},r.push(l),i.push(l)),void 0!==t.multiTextInput4&&""!==t.multiTextInput4&&(c={address:window.tronWeb.address.toHex(t.multiTextInput4),weight:1},r.push(c),i.push(c)),void 0!==t.multiTextInput5&&""!==t.multiTextInput5&&(d={address:window.tronWeb.address.toHex(t.multiTextInput5),weight:1},r.push(d),i.push(d)),console.log("transaction1:   "+JSON.stringify(o)),p="https://api.shasta.trongrid.io/wallet/accountpermissionupdate",m={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},console.log(1111),fetch(p,m).then((function(t){return t.json()})).then(function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(e){var r,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("transaction2:   "+JSON.stringify(e)),t.next=3,window.tronWeb.trx.multiSign(e,0);case 3:return r=t.sent,t.next=6,window.tronWeb.trx.getSignWeight(r,0);case 6:if(i=t.sent,!(i.current_weight>=n.owner_permission.threshold)){t.next=14;break}return t.next=10,window.tronWeb.trx.broadcast(r);case 10:u=t.sent,console.log(u),t.next=15;break;case 14:console.log(JSON.stringify(r));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.error("error:"+t)})),e.next=47;break;case 32:return console.log("transaction3:   "+t.multiTextInput7),e.next=35,window.tronWeb.trx.multiSign(JSON.parse(t.multiTextInput7),0);case 35:return w=e.sent,e.next=38,window.tronWeb.trx.getSignWeight(w,0);case 38:if(f=e.sent,!(f.current_weight>=n.owner_permission.threshold)){e.next=46;break}return e.next=42,window.tronWeb.trx.broadcast(w);case 42:h=e.sent,console.log(h),e.next=47;break;case 46:t.multiTextInput8=JSON.stringify(w);case 47:case"end":return e.stop()}}),e)})))()}}},f=w,h=n("2877"),T=Object(h["a"])(f,d,p,!1,null,null,null),v=T.exports,g=function(t){Object(s["a"])(n,t);var e=Object(a["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return n}(c["b"]);g=Object(l["a"])([Object(c["a"])({components:{Index:v}})],g);var I=g,k=I,y=(n("5c0b"),Object(h["a"])(k,i,u,!1,null,null,null)),_=y.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(_)}}).$mount("#app")}});
//# sourceMappingURL=app.9cd7c456.js.map