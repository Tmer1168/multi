(function(t){function e(e){for(var i,s,o=e[0],a=e[1],l=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);c&&c(e);while(p.length)p.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],i=!0,o=1;o<n.length;o++){var a=n[o];0!==r[a]&&(i=!1)}i&&(u.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},u=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/multi/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=a;u.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},"9c0c":function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,r=n("2b0e"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Index")],1)},s=[],o=n("d4ec"),a=n("262e"),l=n("2caf"),c=n("9ab4"),d=n("60a3"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{float:"right",margin:"0 0 0 -800px",width:"100%"}},[n("div",{staticStyle:{margin:"50px 0 0 800px",background:"#00000000"}},[n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.mintTextValue))]],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[n("el-input",{attrs:{placeholder:"to"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[n("el-input",{attrs:{placeholder:"value"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText7))],n("el-input",{attrs:{placeholder:"签名信息"},model:{value:t.multiTextInput9,callback:function(e){t.multiTextInput9=e},expression:"multiTextInput9"}})],2),n("div",[n("el-button",{on:{click:t.mintFunction}},[t._v(t._s(t.claim))])],1),n("div",{staticStyle:{width:"400px",margin:"20px 0 0 0",background:"#00000000"}},[[t._v(t._s(t.multiText8))],n("el-input",{attrs:{placeholder:""},model:{value:t.multiTextInput10,callback:function(e){t.multiTextInput10=e},expression:"multiTextInput10"}})],2)])]),n("div",{staticStyle:{float:"left",margin:"50px 0 0 100px",background:"#00000000"}},[n("div",[[t._v(t._s(t.multiAddressList))]],2),n("div",[n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText1))],n("el-input",{attrs:{placeholder:"地址1"},model:{value:t.multiTextInput1,callback:function(e){t.multiTextInput1=e},expression:"multiTextInput1"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText2))],n("el-input",{attrs:{placeholder:"地址2"},model:{value:t.multiTextInput2,callback:function(e){t.multiTextInput2=e},expression:"multiTextInput2"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText3))],n("el-input",{attrs:{placeholder:"地址3"},model:{value:t.multiTextInput3,callback:function(e){t.multiTextInput3=e},expression:"multiTextInput3"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText4))],n("el-input",{attrs:{placeholder:"地址4"},model:{value:t.multiTextInput4,callback:function(e){t.multiTextInput4=e},expression:"multiTextInput4"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText5))],n("el-input",{attrs:{placeholder:"地址5"},model:{value:t.multiTextInput5,callback:function(e){t.multiTextInput5=e},expression:"multiTextInput5"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText6))],n("el-input",{attrs:{placeholder:"阈值"},model:{value:t.multiTextInput6,callback:function(e){t.multiTextInput6=e},expression:"multiTextInput6"}})],2),n("div",{staticStyle:{width:"400px",background:"#00000000"}},[[t._v(t._s(t.multiText7))],n("el-input",{attrs:{placeholder:"签名信息"},model:{value:t.multiTextInput7,callback:function(e){t.multiTextInput7=e},expression:"multiTextInput7"}})],2),n("div",[n("el-button",{on:{click:t.editFunction}},[t._v(t._s(t.editAddress))])],1),n("div",{staticStyle:{width:"400px",margin:"20px 0 0 0",background:"#00000000"}},[[t._v(t._s(t.multiText8))],n("el-input",{attrs:{placeholder:""},model:{value:t.multiTextInput8,callback:function(e){t.multiTextInput8=e},expression:"multiTextInput8"}})],2)])])])},x=[],m=(n("a9e3"),n("25eb"),n("d3b7"),n("ddb0"),n("96cf"),n("1da1")),h=n("bee2"),b="41528d4f67c7055152052058cd9646c8e2cbfe729e",w="41384da1b1e9d08842d523872b4d42f62c0d97c74f",f=Object(d["a"])(i=function(t){Object(a["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(h["a"])(n,[{key:"data",value:function(){return{multiAddressList:"多签地址成员列表：",multiText1:"多签地址1（权重1）",multiText2:"多签地址2（权重1）",multiText3:"多签地址3（权重1）",multiText4:"多签地址4（权重1）",multiText5:"多签地址5（权重1）",multiText6:"阈值",multiText7:"多签数据(第一个签名不用输入)",multiText8:"签名后的签名信息（通过通讯工具将签名后的信息发送给下一个需要签名的人）:",multiTextInput1:"",multiTextInput2:"",multiTextInput3:"",multiTextInput4:"",multiTextInput5:"",multiTextInput6:"",multiTextInput7:"",multiTextInput8:"",multiTextInput9:"",multiTextInput10:"",claim:"mint",mintTextValue:"mint功能:",input1:"",input2:"",editAddress:"修改权限"}}},{key:"mounted",value:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.tronWeb&&window.tronWeb.defaultAddress.base58&&console.log("init tronweb success"),t.next=3,window.tronWeb.trx.getAccount(w);case 3:e=t.sent,console.log(e),void 0!==e.owner_permission.keys[0]&&(this.multiTextInput1=window.tronWeb.address.fromHex(e.owner_permission.keys[0].address)),void 0!==e.owner_permission.keys[1]&&(this.multiTextInput2=window.tronWeb.address.fromHex(e.owner_permission.keys[1].address)),void 0!==e.owner_permission.keys[2]&&(this.multiTextInput3=window.tronWeb.address.fromHex(e.owner_permission.keys[2].address)),void 0!==e.owner_permission.keys[3]&&(this.multiTextInput4=window.tronWeb.address.fromHex(e.owner_permission.keys[3].address)),void 0!==e.owner_permission.keys[4]&&(this.multiTextInput5=window.tronWeb.address.fromHex(e.owner_permission.keys[4].address)),this.multiTextInput6=e.owner_permission.threshold;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mintFunction",value:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r,u,s,o,a,l,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.tronWeb||window.tronWeb.defaultAddress.base58){t.next=3;break}return alert("未连接钱包"),t.abrupt("return");case 3:return this.multiTextInput10="",t.next=6,window.tronWeb.trx.getAccount(w);case 6:if(e=t.sent,void 0!==this.multiTextInput9&&""!==this.multiTextInput9){t.next=31;break}return n="mint(address,uint256)",i=[{type:"address",value:this.input1},{type:"uint",value:this.input2}],r={},t.next=13,window.tronWeb.transactionBuilder.triggerSmartContract(b,n,r,i,window.tronWeb.defaultAddress.base58);case 13:return u=t.sent,console.log(u.transaction),t.next=17,window.tronWeb.trx.multiSign(u,0);case 17:return s=t.sent,t.next=20,window.tronWeb.trx.getSignWeight(s,0);case 20:if(o=t.sent,!(o.current_weight>=e.owner_permission.threshold)){t.next=28;break}return t.next=24,window.tronWeb.trx.broadcast(s);case 24:a=t.sent,console.log(a),t.next=29;break;case 28:console.log(JSON.stringify(s));case 29:t.next=45;break;case 31:return t.next=33,window.tronWeb.trx.multiSign(transaction,0);case 33:return l=t.sent,t.next=36,window.tronWeb.trx.getSignWeight(l,0);case 36:if(c=t.sent,!(c.current_weight>=e.owner_permission.threshold)){t.next=44;break}return t.next=40,window.tronWeb.trx.broadcast(l);case 40:d=t.sent,console.log(d),t.next=45;break;case 44:this.multiTextInput10=JSON.stringify(l);case 45:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"editFunction",value:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n,i,r,u,s,o,a,l,c,d,p,x,h,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.multiTextInput8="",console.log("multiTextInput8: "+this.multiTextInput8),console.log("default address: "+window.tronWeb.defaultAddress.base58),window.tronWeb||window.tronWeb.defaultAddress.base58){t.next=6;break}return alert("未连接钱包"),t.abrupt("return");case 6:return t.next=8,window.tronWeb.trx.getAccount(w);case 8:if(e=t.sent,void 0!==this.multiTextInput7&&""!==this.multiTextInput7){t.next=32;break}if(void 0!==this.multiTextInput6&&""!==this.multiTextInput6){t.next=13;break}return alert("请输入参数"),t.abrupt("return");case 13:if(void 0!==this.multiTextInput1&&""!==this.multiTextInput1){t.next=16;break}return alert("请输入参数"),t.abrupt("return");case 16:n=[],i=[],r=this.multiTextInput6,u={owner_address:w,owner:{type:0,id:0,permission_name:"owner",threshold:Number.parseInt(r),keys:n},actives:[{type:2,id:2,permission_name:"active0",threshold:Number.parseInt(r),operations:"7fff1fc0037e0000000000000000000000000000000000000000000000000000",keys:i}]},void 0!==this.multiTextInput1&&""!==this.multiTextInput1&&(s={address:window.tronWeb.address.toHex(this.multiTextInput1),weight:1},n.push(s),i.push(s)),void 0!==this.multiTextInput2&&""!==this.multiTextInput2&&(o={address:window.tronWeb.address.toHex(this.multiTextInput2),weight:1},n.push(o),i.push(o)),void 0!==this.multiTextInput3&&""!==this.multiTextInput3&&(a={address:window.tronWeb.address.toHex(this.multiTextInput3),weight:1},n.push(a),i.push(a)),void 0!==this.multiTextInput4&&""!==this.multiTextInput4&&(l={address:window.tronWeb.address.toHex(this.multiTextInput4),weight:1},n.push(l),i.push(l)),void 0!==this.multiTextInput5&&""!==this.multiTextInput5&&(c={address:window.tronWeb.address.toHex(this.multiTextInput5),weight:1},n.push(c),i.push(c)),console.log("transaction1:   "+JSON.stringify(u)),d="https://api.shasta.trongrid.io/wallet/accountpermissionupdate",p={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)},console.log(1111),fetch(d,p).then((function(t){return t.json()})).then(function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(n){var i,r,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("transaction2:   "+JSON.stringify(n)),t.next=3,window.tronWeb.trx.multiSign(n,0);case 3:return i=t.sent,t.next=6,window.tronWeb.trx.getSignWeight(i,0);case 6:if(r=t.sent,!(r.current_weight>=e.owner_permission.threshold)){t.next=14;break}return t.next=10,window.tronWeb.trx.broadcast(i);case 10:u=t.sent,console.log(u),t.next=15;break;case 14:console.log(JSON.stringify(i));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.error("error:"+t)})),t.next=47;break;case 32:return console.log("transaction3:   "+this.multiTextInput7),t.next=35,window.tronWeb.trx.multiSign(JSON.parse(this.multiTextInput7),0);case 35:return x=t.sent,t.next=38,window.tronWeb.trx.getSignWeight(x,0);case 38:if(h=t.sent,!(h.current_weight>=e.owner_permission.threshold)){t.next=46;break}return t.next=42,window.tronWeb.trx.broadcast(x);case 42:b=t.sent,console.log(b),t.next=47;break;case 46:this.multiTextInput8=JSON.stringify(x);case 47:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(d["b"]))||i,v=f,T=n("2877"),g=Object(T["a"])(v,p,x,!1,null,null,null),I=g.exports,k=function(t){Object(a["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return n}(d["b"]);k=Object(c["a"])([Object(d["a"])({components:{Index:I}})],k);var y=k,_=y,S=(n("5c0b"),Object(T["a"])(_,u,s,!1,null,null,null)),W=S.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(W)}}).$mount("#app")}});
//# sourceMappingURL=app.375023b7.js.map